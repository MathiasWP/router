(function () {function k(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function l(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?k(Object(t),!0).forEach(function(r){o(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):k(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function o(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var p=function(e){var r={},t={},n={dispatch:function(e,o){if("@dispatch"!==e&&n.dispatch("@dispatch",[e,o,r[e]]),r[e]){var c,a={};r[e].forEach(function(e){var r=e(t,o);r&&"function"!=typeof r.then&&(c=t=l({},t,{},r),a=l({},a,{},r))}),c&&n.dispatch("@changed",a)}},get:function(){return t},on:function(e,t){return(r[e]||(r[e]=[])).push(t),function(){r[e]=r[e].filter(function(e){return e!==t})}}};return e.forEach(function(e){e&&e(n)}),n.dispatch("@init"),n};var e={};function q(r){if("undefined"==typeof Symbol||null==r[Symbol.iterator]){if(Array.isArray(r)||(r=g(r))){var e=0,t=function(){};return{s:t,n:function(){return e>=r.length?{done:!0}:{done:!1,value:r[e++]}},e:function(r){throw r},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,n,$=!0,o=!1;return{s:function(){a=r[Symbol.iterator]()},n:function(){var r=a.next();return $=r.done,r},e:function(r){o=!0,n=r},f:function(){try{$||null==a.return||a.return()}finally{if(o)throw n}}}}function s(r){return v(r)||u(r)||g(r)||t()}function t(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(r))return Array.from(r)}function v(r){if(Array.isArray(r))return h(r)}function f(r,e){return y(r)||x(r,e)||g(r,e)||w()}function w(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function g(r,e){if(r){if("string"==typeof r)return h(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?h(r,e):void 0}}function h(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,a=new Array(e);t<e;t++)a[t]=r[t];return a}function x(r,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(r)){var t=[],a=!0,n=!1,$=void 0;try{for(var o,i=r[Symbol.iterator]();!(a=(o=i.next()).done)&&(t.push(o.value),!e||t.length!==e);a=!0);}catch(d){n=!0,$=d}finally{try{a||null==i.return||i.return()}finally{if(n)throw $}}return t}}function y(r){if(Array.isArray(r))return r}var a=location,c=Symbol(),d=Symbol(),i=Symbol(),b=Symbol("route");function r(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(e){e.on("@init",function(){e.dispatch(c,j(a.pathname,r))}),e.on(d,function(){}),e.on(i,function(t,a){t[b].path!==a&&history.pushState(null,null,a),e.dispatch(c,j(a,r)),e.dispatch(d,e.get()[b])}),e.on(c,function(e,t){var a=f(t,3),n=a[0],$=a[1],o=a[2],i=void 0===o?[]:o,d=r[$],u={};return u[b]={match:!1,path:n,params:i},d&&(u[b].match=d[1].apply(d,s(i))),u}),document.documentElement.addEventListener("click",function(r){var t=r.target.closest("a");r.defaultPrevented||null==t||0!==t.href.indexOf(a.origin)||"_blank"===t.target||null!=t.dataset.ignoreRouter||0!==r.button||r.metaKey||r.ctrlKey||r.shiftKey||r.altKey||(r.preventDefault(),e.dispatch(i,t.href.slice(a.origin.length)))}),window.addEventListener("popstate",function(){e.get()[b].path!==a.pathname&&(e.dispatch(c,j(a.pathname,r)),e.dispatch(d,e.get()[b]))})}}function j(r,e){var t,a=r.replace(/(^\/|\/$)/g,""),n=q(e.entries());try{for(n.s();!(t=n.n()).done;){var $=f(t.value,2),o=$[0],i=f($[1],1)[0];if("string"==typeof i){var d=i.replace(/(^\/|\/$)/g,"");if(d===a)return[r,o];if(d.includes("*")){var u=d.replace(/[\s!#$()+,.:<=?[\\\]^{|}]/g,"\\$&").replace(/\*/g,"([^/]*)"),l=RegExp("^"+u+"$","i"),v=a.match(l);if(v)return[r,o,v.slice(1)]}}if(i instanceof RegExp){var c=a.match(i);if(c)return[r,o,c.slice(1)]}}}catch(y){n.e(y)}finally{n.f()}return[r]}e={routerNavigate:i,routerChanged:d,routerKey:b,createRouter:r};var m=p([e.createRouter([["/",function(){return{page:"home"}}],["/blog",function(){return{page:"blog"}}],["/blog/post/*",function(o){return{page:"post",id:o}}],[/^blog\/post\/(\d+)\/(\d+)$/,function(o,t){return{page:"post",year:o,month:t}}]])]);function n(o){document.querySelector(".data").textContent=JSON.stringify(o)}n(m.get()[e.routerKey]),m.on(e.routerChanged,function(o,t){n(t)});})();